# 训练记录

## 日常训练记录 - 以时间为单位

### 2019/5/19

#### 实验1
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 四分类; （0、1、2、3）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： spacing后，以肿瘤为中心进行切割，切割出250box，再crop到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5);
        - RandomRotation([-10,10]);
        - CenterCrop(224); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： 无
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;


- 结果： 对于总准确率，训练集到100%，测试集有26%+-;


#### 实验2
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 四分类; （0、1、2、3）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - **数据处理**： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5);
        - RandomRotation([-10,10]);
        - CenterCrop(224); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： 无
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有33%+-;


#### 实验3
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 四分类; （0、1、2、3）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - **数据增广**： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： 无
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;


- 结果： 对于总准确率，训练集到100%，测试集有33%+-;

#### 实验4
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 二分类; （0、123）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： 无
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有62%+-;
    - 混淆矩阵：
        - 测试集：
            - (class 0):    27   132  Acc: 27/159 (16.9811%)
            - (class 1):    84   354  Acc: 354/438 (80.8219%)


#### 实验5
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 二分类; （0、123）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： [0.7099067081297201, 0.2900932918702799]
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有60%+-;
    - 混淆矩阵：
        - 测试集：
            - (class 0):    30   129  Acc: 30/159 (18.8679%)
            - (class 1):    92   346  Acc: 346/438 (78.9954%)


#### 实验6
- tblog： 145902
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 二分类; （012，3）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： [0.028876055086628164, 0.9711239449133718]
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有94%+-;
    - 混淆矩阵：
        - 测试集：
            - (class 0):   571     2  Acc: 571/573 (99.6510%)
            - (class 1):    24     0  Acc: 0/24 (0.0000%)

#### 实验7
- tblog： 150855
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 二分类; （01，23）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - 优化器： SGD
        - class_weight： [0.38827187916481565, 0.6117281208351844]
        - momentum: 0.9
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有57%+-;
    - 混淆矩阵：
        - 测试集：
            - (class 0):   246   103  Acc: 246/349 (70.4871%)
            - (class 1):   153    95  Acc: 95/248 (38.3065%)

#### 实验7.1
- tblog： 151940
- 训练详情： 
    - 方法： 2D;
    - 任务： TRD 二分类; （01，23）
    - 数据集： 中山六院， T2肿瘤标记的slide;
    - 训练集与测试集比例： 4：1;
    - 数据处理： 对于源图像，直接resize到224box;
    - 数据增广： （只对训练集）
        - RandomHorizontalFlip(p=0.5); 
    - 模型： resnet34, 有预训练模型;
    - **优化器**： Adam
        - class_weight： [0.38827187916481565, 0.6117281208351844]
        - weight_decay: 0.0001
        - 学习率lr： 0.001; 每个epoch衰减为原来的1/2;

- 结果： 对于总准确率，训练集到100%，测试集有53%+-;
    - 混淆矩阵：
        - 测试集：
            - (class 0):   285    64  Acc: 285/349 (81.6619%)
            - (class 1):   212    36  Acc: 36/248 (14.5161%)
